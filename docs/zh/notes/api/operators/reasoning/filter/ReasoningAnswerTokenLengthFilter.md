---
title: ReasoningAnswerTokenLengthFilter
createTime: 2025/10/09 17:09:04
permalink: /zh/api/operators/reasoning/filter/reasoninganswertokenlengthfilter/
---

## ğŸ“˜ æ¦‚è¿°
`ReasoningAnswerTokenLengthFilter` æ˜¯ä¸€ä¸ªç­”æ¡ˆè¿‡æ»¤ç®—å­ï¼Œç”¨äºæ ¹æ®ç­”æ¡ˆæ–‡æœ¬çš„ token æ•°é‡æ¥ç­›é€‰æ•°æ®ã€‚å®ƒä¼šç§»é™¤é‚£äº› token é•¿åº¦è¶…è¿‡é¢„è®¾æœ€å¤§å€¼çš„ç­”æ¡ˆï¼Œç¡®ä¿ä¸‹æ¸¸å¤„ç†çš„æ•°æ®ç¬¦åˆé•¿åº¦è¦æ±‚ã€‚è¯¥ç®—å­ä½¿ç”¨æŒ‡å®šçš„ tokenizer æ¥è®¡ç®— token æ•°é‡ã€‚

## `__init__`å‡½æ•°
```python
def __init__(self,
            max_answer_token_length: int = 8192,
            tokenizer_dir: str = "Qwen/Qwen2.5-0.5B-Instruct")
```
### initå‚æ•°è¯´æ˜
| å‚æ•°å                      | ç±»å‹ | é»˜è®¤å€¼                         | è¯´æ˜                               |
| :------------------------ | :--- | :----------------------------- | :--------------------------------- |
| **max_answer_token_length** | int  | 8192                           | ç­”æ¡ˆæ‰€å…è®¸çš„æœ€å¤§ token é•¿åº¦ã€‚      |
| **tokenizer_dir**         | str  | "Qwen/Qwen2.5-0.5B-Instruct"   | ç”¨äºè®¡ç®— token æ•°é‡çš„åˆ†è¯å™¨æ¨¡å‹ç›®å½•æˆ–åç§°ã€‚ |

## `run`å‡½æ•°
```python
def run(self,
        storage: DataFlowStorage,
        input_key: str = "generated_cot")
```
#### å‚æ•°
| åç§°        | ç±»å‹            | é»˜è®¤å€¼          | è¯´æ˜                                     |
| :---------- | :-------------- | :-------------- | :--------------------------------------- |
| **storage** | DataFlowStorage | å¿…éœ€            | æ•°æ®æµå­˜å‚¨å®ä¾‹ï¼Œè´Ÿè´£è¯»å–ä¸å†™å…¥æ•°æ®ã€‚     |
| **input_key** | str             | "generated_cot" | è¾“å…¥åˆ—åï¼Œå¯¹åº”éœ€è¦æ£€æŸ¥ token é•¿åº¦çš„ç­”æ¡ˆå­—æ®µã€‚ |

## ğŸ§  ç¤ºä¾‹ç”¨æ³•
```python

```

#### ğŸ§¾ é»˜è®¤è¾“å‡ºæ ¼å¼ï¼ˆOutput Formatï¼‰
è¯¥ç®—å­æ˜¯ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œå®ƒä¸ä¼šæ”¹å˜æ•°æ®çš„åˆ—ç»“æ„ã€‚è¾“å‡ºçš„æ•°æ®æ ¼å¼ä¸è¾“å…¥å®Œå…¨ç›¸åŒï¼Œä½†åªåŒ…å«é‚£äº›åœ¨ `input_key` åˆ—ä¸­ token é•¿åº¦ç¬¦åˆ `max_answer_token_length` é™åˆ¶çš„è¡Œã€‚

| å­—æ®µ                      | ç±»å‹ | è¯´æ˜                                       |
| :------------------------ | :--- | :----------------------------------------- |
| ... (è¾“å…¥æ•°æ®åŸæœ‰å­—æ®µ) | ...  | è¾“å…¥æ•°æ®ä¸­çš„æ‰€æœ‰åŸå§‹å­—æ®µéƒ½å°†è¢«ä¿ç•™ã€‚       |
| `input_key`æŒ‡å®šçš„åˆ—      | str  | ç»è¿‡é•¿åº¦æ ¡éªŒä¸”ç¬¦åˆæ¡ä»¶çš„ç­”æ¡ˆæ–‡æœ¬ã€‚         |
