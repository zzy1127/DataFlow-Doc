---
title: SymbolWordRatioFilter
createTime: 2025/10/09 17:09:04
permalink: /zh/api/operators/general_text/filter/symbolwordratiofilter/
---

## ğŸ“˜ æ¦‚è¿°
`SymbolWordRatioFilter` æ˜¯ä¸€ä¸ªæ•°æ®è¿‡æ»¤ç®—å­ï¼Œç”¨äºæ£€æŸ¥æ–‡æœ¬ä¸­ç‰¹å®šç¬¦å·ï¼ˆå¦‚ "#", "...", "â€¦"ï¼‰ä¸å•è¯æ€»æ•°çš„æ¯”ç‡ã€‚å¦‚æœè¯¥æ¯”ç‡è¶…è¿‡é¢„è®¾çš„é˜ˆå€¼ï¼Œåˆ™è¯¥æ–‡æœ¬è¡Œå°†è¢«è¿‡æ»¤æ‰ã€‚è¿™æœ‰åŠ©äºæ¸…ç†æ•°æ®é›†ä¸­ç¬¦å·æ»¥ç”¨æˆ–æ ¼å¼å¼‚å¸¸çš„æ¡ç›®ã€‚

## __init__å‡½æ•°
```python
def __init__(self, threshold: float=0.4)
```
### initå‚æ•°è¯´æ˜
| å‚æ•°å | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| :--- | :--- | :--- | :--- |
| **threshold** | float | 0.4 | ç¬¦å·ä¸å•è¯æ•°é‡æ¯”ç‡çš„é˜ˆå€¼ã€‚è¶…è¿‡æ­¤é˜ˆå€¼çš„æ–‡æœ¬å°†è¢«è¿‡æ»¤ã€‚ |

## Promptæ¨¡æ¿è¯´æ˜
| Prompt æ¨¡æ¿åç§° | ä¸»è¦ç”¨é€” | é€‚ç”¨åœºæ™¯ | ç‰¹ç‚¹è¯´æ˜ |
| :--- | :--- | :--- | :--- |
| | | | |

## runå‡½æ•°
```python
def run(self, storage: DataFlowStorage, input_key: str, output_key: str='symbol_word_ratio_filter_label')
```
æ‰§è¡Œç®—å­ä¸»é€»è¾‘ï¼Œä»å­˜å‚¨ä¸­è¯»å–è¾“å…¥ DataFrameï¼Œæ ¹æ®ç¬¦å·ä¸å•è¯çš„æ¯”ç‡è¿›è¡Œè¿‡æ»¤ï¼Œå¹¶å°†è¿‡æ»¤åçš„ç»“æœå†™å›å­˜å‚¨ã€‚

#### å‚æ•°
| åç§° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| :--- | :--- | :--- | :--- |
| **storage** | DataFlowStorage | å¿…éœ€ | æ•°æ®æµå­˜å‚¨å®ä¾‹ï¼Œè´Ÿè´£è¯»å–ä¸å†™å…¥æ•°æ®ã€‚ |
| **input_key** | str | å¿…éœ€ | è¾“å…¥åˆ—åï¼Œå¯¹åº”å¾…æ£€æŸ¥çš„æ–‡æœ¬å­—æ®µã€‚ |
| **output_key** | str | "symbol_word_ratio_filter_label" | è¾“å‡ºåˆ—åï¼Œç”¨äºå­˜å‚¨è¿‡æ»¤ç»“æœçš„æ ‡ç­¾ï¼ˆ1è¡¨ç¤ºé€šè¿‡ï¼Œ0è¡¨ç¤ºæœªé€šè¿‡ï¼‰ã€‚ |

## ğŸ§  ç¤ºä¾‹ç”¨æ³•

#### ğŸ§¾ é»˜è®¤è¾“å‡ºæ ¼å¼ï¼ˆOutput Formatï¼‰
ç®—å­ä¼šå‘ DataFrame ä¸­æ·»åŠ ä¸€ä¸ª `output_key` æŒ‡å®šçš„åˆ—ï¼Œå¹¶æ ¹æ®è¯¥åˆ—çš„å€¼è¿›è¡Œè¿‡æ»¤ã€‚æœ€ç»ˆè¾“å‡ºçš„ DataFrame åªåŒ…å«é€šè¿‡ç­›é€‰çš„è¡Œã€‚

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
| :--- | :--- | :--- |
| [input_key] | str | åŸå§‹è¾“å…¥çš„æ–‡æœ¬å­—æ®µã€‚ |
| ... | ... | å…¶ä»–åŸå§‹å­—æ®µã€‚ |
| [output_key] | int | è¿‡æ»¤æ ‡ç­¾ï¼Œå€¼ä¸º1ï¼Œè¡¨ç¤ºè¯¥è¡Œæ–‡æœ¬é€šè¿‡äº†ç¬¦å·ä¸å•è¯æ¯”ç‡çš„æ£€æŸ¥ã€‚ |

**ç¤ºä¾‹è¾“å…¥ï¼š**
```json
{"text": "This is a normal sentence."}
{"text": "This # sentence # has # too # many # symbols # ..."}
```
å‡è®¾ `threshold` ä¸º `0.4`ï¼Œ`input_key` ä¸º `"text"`ã€‚

**ç¤ºä¾‹è¾“å‡ºï¼š**
è¾“å‡ºçš„ DataFrame ä¸­å°†åªåŒ…å«ç¬¬ä¸€è¡Œï¼Œå› ä¸ºå®ƒé€šè¿‡äº†æ¯”ç‡æ£€æŸ¥ã€‚
```json
{"text": "This is a normal sentence.", "symbol_word_ratio_filter_label": 1}
```
