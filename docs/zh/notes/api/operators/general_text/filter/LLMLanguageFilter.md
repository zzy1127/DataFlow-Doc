---
title: LLMLanguageFilter
createTime: 2025/10/09 17:09:04
permalink: /zh/api/operators/general_text/filter/llmlanguagefilter/
---

## ğŸ“˜ æ¦‚è¿°

`LLMLanguageFilter` æ˜¯ä¸€ä¸ªåŸºäºå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„è¯­è¨€è¿‡æ»¤ç®—å­ã€‚å®ƒé€šè¿‡è°ƒç”¨ LLM è¯†åˆ«è¾“å…¥æ–‡æœ¬çš„è¯­è¨€ï¼Œå¹¶æ ¹æ®é¢„è®¾çš„å…è®¸è¯­è¨€åˆ—è¡¨å¯¹æ•°æ®è¿›è¡Œç­›é€‰ã€‚è¯¥ç®—å­ä¸»è¦ç”¨äºæ•°æ®æ¸…æ´—ã€å¤šè¯­è¨€æ•°æ®åˆ†ç±»ç­‰åœºæ™¯ï¼Œç¡®ä¿æ•°æ®æµä¸­çš„æ–‡æœ¬ç¬¦åˆç‰¹å®šçš„è¯­è¨€è¦æ±‚ã€‚

## `__init__`å‡½æ•°

```python
def __init__(self, llm_serving: LLMServingABC = None, allowed_languages: list[str] = ['en'])
```

| å‚æ•°å | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| :--- | :--- | :--- | :--- |
| **llm_serving** | LLMServingABC | None | å¤§è¯­è¨€æ¨¡å‹æœåŠ¡å®ä¾‹ï¼Œç”¨äºæ‰§è¡Œè¯­è¨€è¯†åˆ«ã€‚ |
| **allowed_languages** | list[str] | ['en'] | å…è®¸é€šè¿‡çš„è¯­è¨€åˆ—è¡¨ï¼Œä½¿ç”¨ ISO 639-1 åŒå­—æ¯è¯­è¨€ä»£ç ï¼ˆä¾‹å¦‚ 'en' ä»£è¡¨è‹±è¯­ï¼Œ'zh' ä»£è¡¨ä¸­æ–‡ï¼‰ã€‚ |

### Promptæ¨¡æ¿è¯´æ˜

| Prompt æ¨¡æ¿åç§° | ä¸»è¦ç”¨é€” | é€‚ç”¨åœºæ™¯ | ç‰¹ç‚¹è¯´æ˜ |
| :--- | :--- | :--- | :--- |
| | | | |

## `run`å‡½æ•°

```python
def run(self, storage: DataFlowStorage, input_key: str, output_key: str = 'language_label')
```

| åç§° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| :--- | :--- | :--- | :--- |
| **storage** | DataFlowStorage | å¿…éœ€ | æ•°æ®æµå­˜å‚¨å®ä¾‹ï¼Œè´Ÿè´£è¯»å–ä¸å†™å…¥æ•°æ®ã€‚ |
| **input_key** | str | å¿…éœ€ | è¾“å…¥åˆ—åï¼Œå¯¹åº”éœ€è¦è¿›è¡Œè¯­è¨€è¯†åˆ«çš„æ–‡æœ¬å­—æ®µã€‚ |
| **output_key** | str | 'language_label' | è¾“å‡ºåˆ—åï¼Œå¯¹åº” LLM ç”Ÿæˆçš„è¯­è¨€æ ‡ç­¾å­—æ®µã€‚ |

## ğŸ§  ç¤ºä¾‹ç”¨æ³•

#### ğŸ§¾ é»˜è®¤è¾“å‡ºæ ¼å¼ï¼ˆOutput Formatï¼‰

ç®—å­æ‰§è¡Œåï¼Œä¼šå‘ DataFrame ä¸­æ·»åŠ ä¸€ä¸ª `output_key`ï¼ˆé»˜è®¤ä¸º `language_label`ï¼‰åˆ—ï¼Œç”¨äºå­˜å‚¨è¯†åˆ«å‡ºçš„è¯­è¨€æ ‡ç­¾ã€‚éšåï¼Œå®ƒä¼šç­›é€‰å‡ºè¯¥åˆ—å€¼åœ¨ `allowed_languages` åˆ—è¡¨ä¸­çš„è¡Œï¼Œå¹¶å†™å›å­˜å‚¨ã€‚

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
| :--- | :--- | :--- |
| [input_key] | str | è¾“å…¥çš„åŸå§‹æ–‡æœ¬å­—æ®µã€‚ |
| language_label | str | æ¨¡å‹è¯†åˆ«å‡ºçš„è¯­è¨€æ ‡ç­¾ï¼ˆä¾‹å¦‚ 'en', 'zh'ï¼‰ã€‚ |
| ... | - | å…¶ä»–åŸå§‹è¾“å…¥å­—æ®µå°†è¢«ä¿ç•™ã€‚ |
