---
title: CCNetDeduplicateFilter
createTime: 2025/10/09 17:09:04
permalink: /zh/api/operators/text_pt/filter/ccnetdeduplicatefilter/
---

## ğŸ“˜ æ¦‚è¿°
`CCNetDeduplicateFilter` æ˜¯ä¸€ä¸ªåŸºäº CCNet æ–¹æ³•çš„æ•°æ®å»é‡ç®—å­ã€‚å®ƒé€šè¿‡è®¡ç®—æŒ‡å®šå­—æ®µå†…å®¹çš„ SHA-1 å“ˆå¸Œå€¼ï¼Œå¹¶æ¯”è¾ƒå“ˆå¸Œå€¼çš„å‰Nä½æ¥è¯†åˆ«å’Œè¿‡æ»¤é‡å¤æ•°æ®ï¼Œå®ç°ç²¾ç¡®å»é‡ã€‚

## `__init__`å‡½æ•°
```python
def __init__(self, bit_length: int = 64)
```
| å‚æ•°å | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| :--- | :-- | :-- | :--- |
| **bit_length** | int | 64 | ç”¨äºæ•°æ®å»é‡çš„å“ˆå¸Œå€¼çš„ä½æ•°ã€‚ |

## `run`å‡½æ•°
```python
def run(self, storage: DataFlowStorage, input_keys: list = None, input_key: str = None, output_key: str = 'minhash_deduplicated_label')
```
| åç§° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| :------------- | :---------------- | :---------------- | :----------------- |
| **storage** | DataFlowStorage | å¿…éœ€ | æ•°æ®æµå­˜å‚¨å®ä¾‹ï¼Œè´Ÿè´£è¯»å–ä¸å†™å…¥æ•°æ®ã€‚ |
| **input_keys** | list | None | ç”¨äºè®¡ç®—å“ˆå¸Œçš„å¤šä¸ªå­—æ®µåˆ—è¡¨ï¼ˆä¸ `input_key` äºŒé€‰ä¸€ï¼‰ã€‚ |
| **input_key** | str | None | ç”¨äºè®¡ç®—å“ˆå¸Œçš„å•ä¸ªå­—æ®µåï¼ˆä¸ `input_keys` äºŒé€‰ä¸€ï¼‰ã€‚ |
| **output_key** | str | 'minhash_deduplicated_label' | è¾“å‡ºçš„å»é‡æ ‡è®°å­—æ®µåã€‚ |

## ğŸ§  ç¤ºä¾‹ç”¨æ³•
```python

```

#### ğŸ§¾ é»˜è®¤è¾“å‡ºæ ¼å¼ï¼ˆOutput Formatï¼‰
ç®—å­ä¼šå‘æ•°æ®ä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„ `output_key` å­—æ®µï¼Œç”¨äºæ ‡è®°æ•°æ®æ˜¯å¦é‡å¤ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥å­—æ®µä¸º `minhash_deduplicated_label`ã€‚æ ‡è®°ä¸º `1` çš„æ•°æ®è¡¨ç¤ºé¦–æ¬¡å‡ºç°ï¼ˆå”¯ä¸€ï¼‰ï¼Œæ ‡è®°ä¸º `0` çš„è¡¨ç¤ºé‡å¤æ•°æ®ã€‚æœ€ç»ˆï¼Œç®—å­ä¼šè¿‡æ»¤æ‰é‡å¤æ•°æ®ï¼Œåªè¾“å‡ºæ ‡è®°ä¸º `1` çš„å”¯ä¸€æ•°æ®ã€‚

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
| :-------------- | :---- | :---------- |
| (åŸè¾“å…¥å­—æ®µ) | - | è¾“å…¥æ•°æ®ä¸­åŒ…å«çš„æ‰€æœ‰åŸå§‹å­—æ®µã€‚ |
| minhash_deduplicated_label | int | å»é‡æ ‡è®°ã€‚å€¼ä¸º `1`ï¼Œè¡¨ç¤ºè¯¥æ¡æ•°æ®æ˜¯å”¯ä¸€çš„ã€‚ |

**ç¤ºä¾‹è¾“å…¥ï¼š**
```json
{"text": "DataFlowæ˜¯ä¸€ä¸ªå¼€æºçš„æ•°æ®å¤„ç†æ¡†æ¶ã€‚"}
{"text": "è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•æ ·æœ¬ã€‚"}
{"text": "DataFlowæ˜¯ä¸€ä¸ªå¼€æºçš„æ•°æ®å¤„ç†æ¡†æ¶ã€‚"}
{"text": "è¿™æ˜¯å¦ä¸€ä¸ªç‹¬ç‰¹çš„æ ·æœ¬ã€‚"}
```

**ç¤ºä¾‹è¾“å‡ºï¼š**
```json
{"text": "DataFlowæ˜¯ä¸€ä¸ªå¼€æºçš„æ•°æ®å¤„ç†æ¡†æ¶ã€‚", "minhash_deduplicated_label": 1}
{"text": "è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•æ ·æœ¬ã€‚", "minhash_deduplicated_label": 1}
{"text": "è¿™æ˜¯å¦ä¸€ä¸ªç‹¬ç‰¹çš„æ ·æœ¬ã€‚", "minhash_deduplicated_label": 1}
```
