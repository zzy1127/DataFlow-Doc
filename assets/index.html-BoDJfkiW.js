import{_ as e,c as i,b as a,o as s}from"./app-BqDkFDvD.js";const n={};function l(r,t){return s(),i("div",null,t[0]||(t[0]=[a('<h2 id="📘-概述-reasoninganswerpipelinerootfilter" tabindex="-1"><a class="header-anchor" href="#📘-概述-reasoninganswerpipelinerootfilter"><span>📘 概述 <a href="https://github.com/OpenDCAI/DataFlow/blob/main/dataflow/operators/reasoning/generate/reasoning_answer_generator.py" target="_blank" rel="noopener noreferrer">ReasoningAnswerPipelineRootFilter</a></span></a></h2><p>答案处理流程根节点，负责将输入数据根据有无真实标签（Ground Truth）分发到不同的处理分支。如果真实标签列不存在或为空，算子会尝试从模型输出的答案列中提取标签。最终，数据被拆分为带有真实标签和不带真实标签两部分，分别写入不同的输出。</p><h2 id="init-函数" tabindex="-1"><a class="header-anchor" href="#init-函数"><span>__init__函数</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">def</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> __init__</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="init参数说明" tabindex="-1"><a class="header-anchor" href="#init参数说明"><span>init参数说明</span></a></h3><table><thead><tr><th style="text-align:left;">参数名</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">说明</th></tr></thead></table><h2 id="prompt模板说明" tabindex="-1"><a class="header-anchor" href="#prompt模板说明"><span>Prompt模板说明</span></a></h2><table><thead><tr><th>Prompt 模板名称</th><th>主要用途</th><th>适用场景</th><th>特点说明</th></tr></thead></table><h2 id="run函数" tabindex="-1"><a class="header-anchor" href="#run函数"><span>run函数</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">def</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> run</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">storage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> input_answer_key</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">output</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> input_gt_key</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">golden_answer</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>执行算子主逻辑，从存储中读取输入 DataFrame，根据是否存在真实标签（GT）将其拆分为两个 DataFrame，并将结果写回存储。</p><h4 id="参数" tabindex="-1"><a class="header-anchor" href="#参数"><span>参数</span></a></h4><table><thead><tr><th style="text-align:left;">名称</th><th style="text-align:left;">类型</th><th style="text-align:left;">默认值</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>storage</strong></td><td style="text-align:left;">DataFlowStorage</td><td style="text-align:left;">必需</td><td style="text-align:left;">数据流存储实例，负责读取与写入数据。</td></tr><tr><td style="text-align:left;"><strong>input_answer_key</strong></td><td style="text-align:left;">str</td><td style="text-align:left;">&quot;output&quot;</td><td style="text-align:left;">输入的模型生成答案列名。当真实标签缺失时，会尝试从此列提取答案作为标签。</td></tr><tr><td style="text-align:left;"><strong>input_gt_key</strong></td><td style="text-align:left;">str</td><td style="text-align:left;">&quot;golden_answer&quot;</td><td style="text-align:left;">输入的真实标签（Ground Truth）列名，用于区分数据。</td></tr></tbody></table><h2 id="🧠-示例用法" tabindex="-1"><a class="header-anchor" href="#🧠-示例用法"><span>🧠 示例用法</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="🧾-默认输出格式-output-format" tabindex="-1"><a class="header-anchor" href="#🧾-默认输出格式-output-format"><span>🧾 默认输出格式（Output Format）</span></a></h4><p>该算子不改变原始数据的列结构，而是根据 <code>input_gt_key</code> 列是否存在有效值，将数据流拆分为两个输出。</p><table><thead><tr><th style="text-align:left;">字段</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">...</td><td style="text-align:left;">...</td><td style="text-align:left;">输入数据的所有原始字段。</td></tr><tr><td style="text-align:left;">[input_gt_key]</td><td style="text-align:left;">str</td><td style="text-align:left;">经过处理的真实标签列。对于没有初始标签的数据，可能会从<code>input_answer_key</code>列中提取并填充。</td></tr></tbody></table>',18)]))}const d=e(n,[["render",l]]),o=JSON.parse('{"path":"/zh/api/operators/reasoning/filter/reasoninganswerpipelinerootfilter/","title":"ReasoningAnswerPipelineRootFilter","lang":"zh-CN","frontmatter":{"title":"ReasoningAnswerPipelineRootFilter","createTime":"2025/10/09 17:09:04","permalink":"/zh/api/operators/reasoning/filter/reasoninganswerpipelinerootfilter/"},"readingTime":{"minutes":1.35,"words":405},"git":{"createdTime":1760001305000,"updatedTime":1760001305000,"contributors":[{"name":"Hao Liang","username":"","email":"hao.liang@stu.pku.edu.cn","commits":1,"avatar":"https://gravatar.com/avatar/105bae3e8661728b9f2f5440992b04f5f28459b66a049d09b52213ce1438f6bc?d=retro"}]},"filePathRelative":"zh/notes/api/operators/reasoning/filter/ReasoningAnswerPipelineRootFilter.md","headers":[]}');export{d as comp,o as data};
