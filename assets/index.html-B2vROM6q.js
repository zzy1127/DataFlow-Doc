import{_ as n,c as i,b as l,a as t,d as s,e as r,w as d,r as p,o}from"./app-BqDkFDvD.js";const c={};function h(m,e){const a=p("VPLink");return o(),i("div",null,[e[3]||(e[3]=l(`<p>All libraries related to <code>torch</code> and GPU calls on Muxi machines <strong>must</strong> use the runtime compiled and provided by the official Muxi team. If you overwrite and install standard CUDA packages, it may lead to issues such as &quot;CUDA not found&quot; and other related problems. <strong>Please take this seriously.</strong></p><p>A sample of <code>pip list</code> output:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>apex                              0.1+metax2.29.0.4</span></span>
<span class="line"><span>dropout_layer_norm                0.1+metax2.29.0.4torch2.4</span></span>
<span class="line"><span>flash_attn                        2.6.3+metax2.29.0.4torch2.4</span></span>
<span class="line"><span>flashinfer                        0.1.5+metax2.29.0.4torch2.4</span></span>
<span class="line"><span>fonttools                         4.56.0</span></span>
<span class="line"><span>frozenlist                        1.5.0</span></span>
<span class="line"><span>fsspec                            2024.6.1</span></span>
<span class="line"><span>func_timeout                      4.3.5</span></span>
<span class="line"><span>fused_dense_lib                   2.6.3+metax2.29.0.4torch2.4</span></span>
<span class="line"><span>mcspconv                          2.1.0+metax2.29.0.4torch2.4</span></span>
<span class="line"><span>ray                               2.9.3+maca2.29.0.5</span></span>
<span class="line"><span>referencing                       0.36.2</span></span>
<span class="line"><span>regex                             2024.11.6</span></span>
<span class="line"><span>requests                          2.32.3</span></span>
<span class="line"><span>rich                              14.0.0</span></span>
<span class="line"><span>rootpath                          0.1.1</span></span>
<span class="line"><span>rotary_emb                        0.1+metax2.29.0.4torch2.4</span></span>
<span class="line"><span>torch                             2.4.0+metax2.29.0.4</span></span>
<span class="line"><span>torchaudio                        2.4.1+metax2.29.0.4</span></span>
<span class="line"><span>torchdata                         0.11.0</span></span>
<span class="line"><span>torchvision                       0.15.1+metax2.29.0.4</span></span>
<span class="line"><span>triton                            3.0.0+metax20250216.312</span></span>
<span class="line"><span>vllm                              0.7.2+maca2.29.0.5torch2.4</span></span>
<span class="line"><span>xentropy_cuda_lib                 0.1+metax2.29.0.4torch2.4</span></span>
<span class="line"><span>xformers                          0.0.22+metax2.29.0.4torch2.4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Any package with the suffix <code>maca</code> or <code>metax</code> <strong>must not</strong> be overwritten. Doing so will lead to undefined behavior and errors.</p><blockquote><p>If such packages are overwritten, the only recovery method is to redeploy the image from the platform. Proceed with extreme caution.</p></blockquote><h2 id="developing-dataflow-on-the-wuwen-xinqiong-platform" tabindex="-1"><a class="header-anchor" href="#developing-dataflow-on-the-wuwen-xinqiong-platform"><span>Developing DataFlow on the Wuwen Xinqiong Platform</span></a></h2><p>First, you need to create a development machine, apply for a GPU, and create an image. The following image is recommended:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>cr.infini-ai.com/*/llamafactory_vllm_xc:v0.1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>As a developer, please clone or pull the latest version from the official repository:</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> clone</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://github.com/OpenDCAI/DataFlow</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Then install it locally:</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">cd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> DataFlow</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -e</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>By default, <code>vllm</code> should not be installed. Please ensure the <code>vllm</code> library has <strong>not</strong> been overwritten.</p><p>Then run <code>dataflow -v</code> and <code>dataflow env</code> to check if everything is working properly.</p>`,14)),t("p",null,[e[1]||(e[1]=s("Then, refer to the ")),r(a,{href:"../guide/quickstart/install.md"},{default:d(()=>e[0]||(e[0]=[s("guide")])),_:1,__:[0]}),e[2]||(e[2]=s(" to use various operators and pipelines provided within the library."))])])}const v=n(c,[["render",h]]),g=JSON.parse('{"path":"/en/dev_guide/4n8j4y2e/","title":"Muxi Machine Development","lang":"en-US","frontmatter":{"title":"Muxi Machine Development","createTime":"2025/06/30 11:18:41","permalink":"/en/dev_guide/4n8j4y2e/"},"readingTime":{"minutes":0.95,"words":284},"git":{"createdTime":1751254622000,"updatedTime":1751254622000,"contributors":[{"name":"Sunnyhaze","username":"Sunnyhaze","email":"mxch1122@126.com","commits":1,"avatar":"https://avatars.githubusercontent.com/Sunnyhaze?v=4","url":"https://github.com/Sunnyhaze"}]},"filePathRelative":"en/notes/dev_guide/muxi_server.md","headers":[]}');export{v as comp,g as data};
